{
  "tables": [
    {
      "name": "user_roles",
      "columns": [
        {
          "name": "user_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "role_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        }
      ],
      "primaryKeys": [
        "user_id",
        "role_id"
      ],
      "indexes": [
        {
          "name": "user_roles_pkey",
          "columnName": "user_id",
          "isUnique": true
        },
        {
          "name": "user_roles_pkey",
          "columnName": "role_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "user_roles_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "user_roles_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "user_roles_role_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "user_addresses",
      "columns": [
        {
          "name": "address_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "user_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "address_line1",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "address_line2",
          "type": "character varying",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "city",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "state",
          "type": "character varying",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "postal_code",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "country",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "is_default",
          "type": "boolean",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "address_id"
      ],
      "indexes": [
        {
          "name": "user_addresses_pkey",
          "columnName": "address_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "user_addresses_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "user_addresses_user_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "product_categories",
      "columns": [
        {
          "name": "product_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "category_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        }
      ],
      "primaryKeys": [
        "product_id",
        "category_id"
      ],
      "indexes": [
        {
          "name": "product_categories_pkey",
          "columnName": "product_id",
          "isUnique": true
        },
        {
          "name": "product_categories_pkey",
          "columnName": "category_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "product_categories_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "product_categories_product_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "product_categories_category_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "product_attribute_values",
      "columns": [
        {
          "name": "product_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "attribute_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "value",
          "type": "text",
          "isNullable": false,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "product_id",
        "attribute_id"
      ],
      "indexes": [
        {
          "name": "product_attribute_values_pkey",
          "columnName": "product_id",
          "isUnique": true
        },
        {
          "name": "product_attribute_values_pkey",
          "columnName": "attribute_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "product_attribute_values_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "product_attribute_values_product_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "product_attribute_values_attribute_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "variant_attribute_values",
      "columns": [
        {
          "name": "variant_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "attribute_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "value",
          "type": "text",
          "isNullable": false,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "variant_id",
        "attribute_id"
      ],
      "indexes": [
        {
          "name": "variant_attribute_values_pkey",
          "columnName": "variant_id",
          "isUnique": true
        },
        {
          "name": "variant_attribute_values_pkey",
          "columnName": "attribute_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "variant_attribute_values_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "variant_attribute_values_variant_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "variant_attribute_values_attribute_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "inventory_transactions",
      "columns": [
        {
          "name": "transaction_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "product_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "variant_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "supplier_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "quantity",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "unit_price",
          "type": "numeric",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "transaction_type",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "transaction_date",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "transaction_id"
      ],
      "indexes": [
        {
          "name": "inventory_transactions_pkey",
          "columnName": "transaction_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "inventory_transactions_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "inventory_transactions_product_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "inventory_transactions_variant_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "inventory_transactions_supplier_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "order_items",
      "columns": [
        {
          "name": "order_item_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "order_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "product_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "variant_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "quantity",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "price",
          "type": "numeric",
          "isNullable": false,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "order_item_id"
      ],
      "indexes": [
        {
          "name": "order_items_pkey",
          "columnName": "order_item_id",
          "isUnique": true
        },
        {
          "name": "idx_order_items_order_id",
          "columnName": "order_id",
          "isUnique": false
        }
      ],
      "constraints": [
        {
          "name": "order_items_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "order_items_order_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "order_items_product_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "order_items_variant_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "order_statuses",
      "columns": [
        {
          "name": "status_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "order_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "status",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "created_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "status_id"
      ],
      "indexes": [
        {
          "name": "order_statuses_pkey",
          "columnName": "status_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "order_statuses_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "order_statuses_order_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "payments",
      "columns": [
        {
          "name": "payment_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "order_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "payment_method_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "amount",
          "type": "numeric",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "status",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "transaction_id",
          "type": "character varying",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "created_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "payment_id"
      ],
      "indexes": [
        {
          "name": "payments_pkey",
          "columnName": "payment_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "payments_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "payments_order_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "payments_payment_method_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "shipments",
      "columns": [
        {
          "name": "shipment_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "order_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "shipping_method_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "tracking_number",
          "type": "character varying",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "shipped_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "delivered_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "shipment_id"
      ],
      "indexes": [
        {
          "name": "shipments_pkey",
          "columnName": "shipment_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "shipments_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "shipments_order_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "shipments_shipping_method_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "product_reviews",
      "columns": [
        {
          "name": "review_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "product_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "user_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "rating",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "title",
          "type": "character varying",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "content",
          "type": "text",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "created_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "review_id"
      ],
      "indexes": [
        {
          "name": "product_reviews_pkey",
          "columnName": "review_id",
          "isUnique": true
        },
        {
          "name": "idx_product_reviews_product_id",
          "columnName": "product_id",
          "isUnique": false
        }
      ],
      "constraints": [
        {
          "name": "product_reviews_rating_check",
          "type": "CHECK"
        },
        {
          "name": "product_reviews_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "product_reviews_product_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "product_reviews_user_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "wishlist_items",
      "columns": [
        {
          "name": "wishlist_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "product_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "added_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "wishlist_id",
        "product_id"
      ],
      "indexes": [
        {
          "name": "wishlist_items_pkey",
          "columnName": "wishlist_id",
          "isUnique": true
        },
        {
          "name": "wishlist_items_pkey",
          "columnName": "product_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "wishlist_items_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "wishlist_items_wishlist_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "wishlist_items_product_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "order_coupons",
      "columns": [
        {
          "name": "order_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "coupon_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        }
      ],
      "primaryKeys": [
        "order_id",
        "coupon_id"
      ],
      "indexes": [
        {
          "name": "order_coupons_pkey",
          "columnName": "order_id",
          "isUnique": true
        },
        {
          "name": "order_coupons_pkey",
          "columnName": "coupon_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "order_coupons_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "order_coupons_order_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "order_coupons_coupon_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "ticket_messages",
      "columns": [
        {
          "name": "message_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "ticket_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "user_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "message",
          "type": "text",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "created_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "message_id"
      ],
      "indexes": [
        {
          "name": "ticket_messages_pkey",
          "columnName": "message_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "ticket_messages_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "ticket_messages_ticket_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "ticket_messages_user_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "page_views",
      "columns": [
        {
          "name": "view_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "user_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "url",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "viewed_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "ip_address",
          "type": "inet",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "view_id"
      ],
      "indexes": [
        {
          "name": "page_views_pkey",
          "columnName": "view_id",
          "isUnique": true
        },
        {
          "name": "idx_page_views_user_id",
          "columnName": "user_id",
          "isUnique": false
        }
      ],
      "constraints": [
        {
          "name": "page_views_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "page_views_user_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "abandoned_cart_items",
      "columns": [
        {
          "name": "cart_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "product_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "variant_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "quantity",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "cart_id",
        "product_id",
        "variant_id"
      ],
      "indexes": [
        {
          "name": "abandoned_cart_items_pkey",
          "columnName": "cart_id",
          "isUnique": true
        },
        {
          "name": "abandoned_cart_items_pkey",
          "columnName": "product_id",
          "isUnique": true
        },
        {
          "name": "abandoned_cart_items_pkey",
          "columnName": "variant_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "abandoned_cart_items_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "abandoned_cart_items_cart_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "abandoned_cart_items_product_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "abandoned_cart_items_variant_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "cms_pages",
      "columns": [
        {
          "name": "page_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "title",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "slug",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "content",
          "type": "text",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "meta_title",
          "type": "character varying",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "meta_description",
          "type": "text",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "created_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "updated_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "page_id"
      ],
      "indexes": [
        {
          "name": "cms_pages_pkey",
          "columnName": "page_id",
          "isUnique": true
        },
        {
          "name": "cms_pages_slug_key",
          "columnName": "slug",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "cms_pages_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "cms_pages_slug_key",
          "type": "UNIQUE"
        }
      ]
    },
    {
      "name": "roles",
      "columns": [
        {
          "name": "role_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "role_name",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "role_id"
      ],
      "indexes": [
        {
          "name": "roles_pkey",
          "columnName": "role_id",
          "isUnique": true
        },
        {
          "name": "roles_role_name_key",
          "columnName": "role_name",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "roles_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "roles_role_name_key",
          "type": "UNIQUE"
        }
      ]
    },
    {
      "name": "categories",
      "columns": [
        {
          "name": "category_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "parent_category_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "name",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "slug",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "description",
          "type": "text",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "category_id"
      ],
      "indexes": [
        {
          "name": "categories_pkey",
          "columnName": "category_id",
          "isUnique": true
        },
        {
          "name": "categories_slug_key",
          "columnName": "slug",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "categories_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "categories_slug_key",
          "type": "UNIQUE"
        },
        {
          "name": "categories_parent_category_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "product_attributes",
      "columns": [
        {
          "name": "attribute_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "name",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "type",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "attribute_id"
      ],
      "indexes": [
        {
          "name": "product_attributes_pkey",
          "columnName": "attribute_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "product_attributes_pkey",
          "type": "PRIMARY KEY"
        }
      ]
    },
    {
      "name": "suppliers",
      "columns": [
        {
          "name": "supplier_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "name",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "contact_person",
          "type": "character varying",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "email",
          "type": "character varying",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "phone",
          "type": "character varying",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "supplier_id"
      ],
      "indexes": [
        {
          "name": "suppliers_pkey",
          "columnName": "supplier_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "suppliers_pkey",
          "type": "PRIMARY KEY"
        }
      ]
    },
    {
      "name": "payment_methods",
      "columns": [
        {
          "name": "payment_method_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "name",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "is_active",
          "type": "boolean",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "payment_method_id"
      ],
      "indexes": [
        {
          "name": "payment_methods_pkey",
          "columnName": "payment_method_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "payment_methods_pkey",
          "type": "PRIMARY KEY"
        }
      ]
    },
    {
      "name": "shipping_methods",
      "columns": [
        {
          "name": "shipping_method_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "name",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "price",
          "type": "numeric",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "is_active",
          "type": "boolean",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "shipping_method_id"
      ],
      "indexes": [
        {
          "name": "shipping_methods_pkey",
          "columnName": "shipping_method_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "shipping_methods_pkey",
          "type": "PRIMARY KEY"
        }
      ]
    },
    {
      "name": "wishlists",
      "columns": [
        {
          "name": "wishlist_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "user_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "name",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "created_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "wishlist_id"
      ],
      "indexes": [
        {
          "name": "wishlists_pkey",
          "columnName": "wishlist_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "wishlists_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "wishlists_user_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "coupons",
      "columns": [
        {
          "name": "coupon_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "code",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "description",
          "type": "text",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "discount_type",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "discount_value",
          "type": "numeric",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "min_purchase_amount",
          "type": "numeric",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "start_date",
          "type": "date",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "end_date",
          "type": "date",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "usage_limit",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "is_active",
          "type": "boolean",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "coupon_id"
      ],
      "indexes": [
        {
          "name": "coupons_pkey",
          "columnName": "coupon_id",
          "isUnique": true
        },
        {
          "name": "coupons_code_key",
          "columnName": "code",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "coupons_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "coupons_code_key",
          "type": "UNIQUE"
        }
      ]
    },
    {
      "name": "support_tickets",
      "columns": [
        {
          "name": "ticket_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "user_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "order_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "subject",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "description",
          "type": "text",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "status",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "created_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "updated_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "ticket_id"
      ],
      "indexes": [
        {
          "name": "support_tickets_pkey",
          "columnName": "ticket_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "support_tickets_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "support_tickets_user_id_fkey",
          "type": "FOREIGN KEY"
        },
        {
          "name": "support_tickets_order_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "abandoned_carts",
      "columns": [
        {
          "name": "cart_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "user_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "created_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "updated_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "cart_id"
      ],
      "indexes": [
        {
          "name": "abandoned_carts_pkey",
          "columnName": "cart_id",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "abandoned_carts_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "abandoned_carts_user_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "product_variants",
      "columns": [
        {
          "name": "variant_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "product_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "sku",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "price",
          "type": "numeric",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "stock_quantity",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "variant_id"
      ],
      "indexes": [
        {
          "name": "product_variants_pkey",
          "columnName": "variant_id",
          "isUnique": true
        },
        {
          "name": "product_variants_sku_key",
          "columnName": "sku",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "product_variants_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "product_variants_sku_key",
          "type": "UNIQUE"
        },
        {
          "name": "product_variants_product_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "orders",
      "columns": [
        {
          "name": "order_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "user_id",
          "type": "integer",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "status",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "total_amount",
          "type": "numeric",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "created_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "updated_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "order_id"
      ],
      "indexes": [
        {
          "name": "orders_pkey",
          "columnName": "order_id",
          "isUnique": true
        },
        {
          "name": "idx_orders_user_id",
          "columnName": "user_id",
          "isUnique": false
        }
      ],
      "constraints": [
        {
          "name": "orders_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "orders_user_id_fkey",
          "type": "FOREIGN KEY"
        }
      ]
    },
    {
      "name": "products",
      "columns": [
        {
          "name": "product_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "sku",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "name",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "description",
          "type": "text",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "price",
          "type": "numeric",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "cost",
          "type": "numeric",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "stock_quantity",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "created_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "updated_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "product_id"
      ],
      "indexes": [
        {
          "name": "products_pkey",
          "columnName": "product_id",
          "isUnique": true
        },
        {
          "name": "products_sku_key",
          "columnName": "sku",
          "isUnique": true
        },
        {
          "name": "idx_products_name",
          "columnName": "name",
          "isUnique": false
        }
      ],
      "constraints": [
        {
          "name": "products_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "products_sku_key",
          "type": "UNIQUE"
        }
      ]
    },
    {
      "name": "users",
      "columns": [
        {
          "name": "user_id",
          "type": "integer",
          "isNullable": false,
          "isPrimaryKey": true
        },
        {
          "name": "email",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "password_hash",
          "type": "character varying",
          "isNullable": false,
          "isPrimaryKey": false
        },
        {
          "name": "first_name",
          "type": "character varying",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "last_name",
          "type": "character varying",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "created_at",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        },
        {
          "name": "last_login",
          "type": "timestamp without time zone",
          "isNullable": true,
          "isPrimaryKey": false
        }
      ],
      "primaryKeys": [
        "user_id"
      ],
      "indexes": [
        {
          "name": "users_pkey",
          "columnName": "user_id",
          "isUnique": true
        },
        {
          "name": "users_email_key",
          "columnName": "email",
          "isUnique": true
        }
      ],
      "constraints": [
        {
          "name": "users_pkey",
          "type": "PRIMARY KEY"
        },
        {
          "name": "users_email_key",
          "type": "UNIQUE"
        }
      ]
    }
  ],
  "relationships": [
    {
      "sourceTable": "user_roles",
      "sourceColumn": "user_id",
      "targetTable": "users",
      "targetColumn": "user_id",
      "isInferred": false
    },
    {
      "sourceTable": "user_roles",
      "sourceColumn": "role_id",
      "targetTable": "roles",
      "targetColumn": "role_id",
      "isInferred": false
    },
    {
      "sourceTable": "user_addresses",
      "sourceColumn": "user_id",
      "targetTable": "users",
      "targetColumn": "user_id",
      "isInferred": false
    },
    {
      "sourceTable": "categories",
      "sourceColumn": "parent_category_id",
      "targetTable": "categories",
      "targetColumn": "category_id",
      "isInferred": false
    },
    {
      "sourceTable": "product_categories",
      "sourceColumn": "product_id",
      "targetTable": "products",
      "targetColumn": "product_id",
      "isInferred": false
    },
    {
      "sourceTable": "product_categories",
      "sourceColumn": "category_id",
      "targetTable": "categories",
      "targetColumn": "category_id",
      "isInferred": false
    },
    {
      "sourceTable": "product_attribute_values",
      "sourceColumn": "product_id",
      "targetTable": "products",
      "targetColumn": "product_id",
      "isInferred": false
    },
    {
      "sourceTable": "product_attribute_values",
      "sourceColumn": "attribute_id",
      "targetTable": "product_attributes",
      "targetColumn": "attribute_id",
      "isInferred": false
    },
    {
      "sourceTable": "product_variants",
      "sourceColumn": "product_id",
      "targetTable": "products",
      "targetColumn": "product_id",
      "isInferred": false
    },
    {
      "sourceTable": "variant_attribute_values",
      "sourceColumn": "variant_id",
      "targetTable": "product_variants",
      "targetColumn": "variant_id",
      "isInferred": false
    },
    {
      "sourceTable": "variant_attribute_values",
      "sourceColumn": "attribute_id",
      "targetTable": "product_attributes",
      "targetColumn": "attribute_id",
      "isInferred": false
    },
    {
      "sourceTable": "inventory_transactions",
      "sourceColumn": "product_id",
      "targetTable": "products",
      "targetColumn": "product_id",
      "isInferred": false
    },
    {
      "sourceTable": "inventory_transactions",
      "sourceColumn": "variant_id",
      "targetTable": "product_variants",
      "targetColumn": "variant_id",
      "isInferred": false
    },
    {
      "sourceTable": "inventory_transactions",
      "sourceColumn": "supplier_id",
      "targetTable": "suppliers",
      "targetColumn": "supplier_id",
      "isInferred": false
    },
    {
      "sourceTable": "orders",
      "sourceColumn": "user_id",
      "targetTable": "users",
      "targetColumn": "user_id",
      "isInferred": false
    },
    {
      "sourceTable": "order_items",
      "sourceColumn": "order_id",
      "targetTable": "orders",
      "targetColumn": "order_id",
      "isInferred": false
    },
    {
      "sourceTable": "order_items",
      "sourceColumn": "product_id",
      "targetTable": "products",
      "targetColumn": "product_id",
      "isInferred": false
    },
    {
      "sourceTable": "order_items",
      "sourceColumn": "variant_id",
      "targetTable": "product_variants",
      "targetColumn": "variant_id",
      "isInferred": false
    },
    {
      "sourceTable": "order_statuses",
      "sourceColumn": "order_id",
      "targetTable": "orders",
      "targetColumn": "order_id",
      "isInferred": false
    },
    {
      "sourceTable": "payments",
      "sourceColumn": "order_id",
      "targetTable": "orders",
      "targetColumn": "order_id",
      "isInferred": false
    },
    {
      "sourceTable": "payments",
      "sourceColumn": "payment_method_id",
      "targetTable": "payment_methods",
      "targetColumn": "payment_method_id",
      "isInferred": false
    },
    {
      "sourceTable": "shipments",
      "sourceColumn": "order_id",
      "targetTable": "orders",
      "targetColumn": "order_id",
      "isInferred": false
    },
    {
      "sourceTable": "shipments",
      "sourceColumn": "shipping_method_id",
      "targetTable": "shipping_methods",
      "targetColumn": "shipping_method_id",
      "isInferred": false
    },
    {
      "sourceTable": "product_reviews",
      "sourceColumn": "product_id",
      "targetTable": "products",
      "targetColumn": "product_id",
      "isInferred": false
    },
    {
      "sourceTable": "product_reviews",
      "sourceColumn": "user_id",
      "targetTable": "users",
      "targetColumn": "user_id",
      "isInferred": false
    },
    {
      "sourceTable": "wishlists",
      "sourceColumn": "user_id",
      "targetTable": "users",
      "targetColumn": "user_id",
      "isInferred": false
    },
    {
      "sourceTable": "wishlist_items",
      "sourceColumn": "wishlist_id",
      "targetTable": "wishlists",
      "targetColumn": "wishlist_id",
      "isInferred": false
    },
    {
      "sourceTable": "wishlist_items",
      "sourceColumn": "product_id",
      "targetTable": "products",
      "targetColumn": "product_id",
      "isInferred": false
    },
    {
      "sourceTable": "order_coupons",
      "sourceColumn": "order_id",
      "targetTable": "orders",
      "targetColumn": "order_id",
      "isInferred": false
    },
    {
      "sourceTable": "order_coupons",
      "sourceColumn": "coupon_id",
      "targetTable": "coupons",
      "targetColumn": "coupon_id",
      "isInferred": false
    },
    {
      "sourceTable": "support_tickets",
      "sourceColumn": "user_id",
      "targetTable": "users",
      "targetColumn": "user_id",
      "isInferred": false
    },
    {
      "sourceTable": "support_tickets",
      "sourceColumn": "order_id",
      "targetTable": "orders",
      "targetColumn": "order_id",
      "isInferred": false
    },
    {
      "sourceTable": "ticket_messages",
      "sourceColumn": "ticket_id",
      "targetTable": "support_tickets",
      "targetColumn": "ticket_id",
      "isInferred": false
    },
    {
      "sourceTable": "ticket_messages",
      "sourceColumn": "user_id",
      "targetTable": "users",
      "targetColumn": "user_id",
      "isInferred": false
    },
    {
      "sourceTable": "page_views",
      "sourceColumn": "user_id",
      "targetTable": "users",
      "targetColumn": "user_id",
      "isInferred": false
    },
    {
      "sourceTable": "abandoned_carts",
      "sourceColumn": "user_id",
      "targetTable": "users",
      "targetColumn": "user_id",
      "isInferred": false
    },
    {
      "sourceTable": "abandoned_cart_items",
      "sourceColumn": "cart_id",
      "targetTable": "abandoned_carts",
      "targetColumn": "cart_id",
      "isInferred": false
    },
    {
      "sourceTable": "abandoned_cart_items",
      "sourceColumn": "product_id",
      "targetTable": "products",
      "targetColumn": "product_id",
      "isInferred": false
    },
    {
      "sourceTable": "abandoned_cart_items",
      "sourceColumn": "variant_id",
      "targetTable": "product_variants",
      "targetColumn": "variant_id",
      "isInferred": false
    }
  ],
  "circularDependencies": [
    [
      "categories"
    ]
  ],
  "junctionTables": [
    "user_roles",
    "product_categories",
    "product_attribute_values",
    "variant_attribute_values",
    "order_items",
    "wishlist_items",
    "order_coupons",
    "abandoned_cart_items"
  ],
  "storedProcedures": [
    {
      "name": "update_product_stock",
      "definition": "CREATE OR REPLACE FUNCTION public.update_product_stock()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    UPDATE products\n    SET stock_quantity = stock_quantity - NEW.quantity\n    WHERE product_id = NEW.product_id;\n    RETURN NEW;\nEND;\n$function$\n"
    }
  ],
  "views": [
    {
      "name": "popular_products",
      "definition": " SELECT p.product_id,\n    p.name,\n    p.price,\n    count(oi.order_item_id) AS order_count\n   FROM (products p\n     LEFT JOIN order_items oi ON ((p.product_id = oi.product_id)))\n  GROUP BY p.product_id, p.name, p.price\n  ORDER BY (count(oi.order_item_id)) DESC;"
    },
    {
      "name": "category_sales",
      "definition": " SELECT c.category_id,\n    c.name,\n    sum(((oi.quantity)::numeric * oi.price)) AS total_sales\n   FROM (((categories c\n     JOIN product_categories pc ON ((c.category_id = pc.category_id)))\n     JOIN products p ON ((pc.product_id = p.product_id)))\n     JOIN order_items oi ON ((p.product_id = oi.product_id)))\n  GROUP BY c.category_id, c.name\n  ORDER BY (sum(((oi.quantity)::numeric * oi.price))) DESC;"
    }
  ]
}